(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))e(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&e(c)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function e(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();class i{constructor(){this.API_KEY="api-key=9GYTd3hNgT1cJMME7q1HMJAu02NGsmfm",this.API_HOST="https://api.nytimes.com",this.WEB_HOST="https://www.nytimes.com",this.BASE_ENDPOINT_URL=`${this.API_HOST}/svc/topstories/v2/arts.json?${this.API_KEY}`,this.SEARCH_ENDPOINT_URL=`${this.API_HOST}/svc/search/v2/articlesearch.json?`}}const m=document.querySelector(".page-header");function u(t){console.log(t);const s=t.map(e=>{const{section:o,title:r,description:c,url:d,date:p,img:f,imgCaption:h}=e;return`
            <div class="news-card">
                <img width="396" src="${f}" alt="${h}">
                <span>${o}</span>
                <h2>${r}</h2>
                <p>${c}</p>
                <span>${p}</span>    
                <a href="${d}">Read more</a>
            </div>
        `}).join("");return console.log(s),s}function l(t){m.insertAdjacentHTML("afterend",t)}const a=new i,g=document.querySelector(".page-header__search-input");g.addEventListener("change",_);function _(t){const n=t.target.value;console.log(n),w(n)}const w=async t=>{try{const n=await fetch(`${a.SEARCH_ENDPOINT_URL}q=${t}&${a.API_KEY}`);if(n.ok===!1)throw new Error("Such a request has not been found");const e=(await n.json()).response.docs;console.log(e),y(e)}catch(n){console.log(n.message)}};function y(t){const n=t.map(e=>({section:e.section_name||e.section,title:e.title||e.headline.main,description:e.abstract,url:e.web_url||e.url,date:e.pub_date||e.created_date,img:`${a.WEB_HOST}/${e.multimedia[1].url}`}));console.log(n);const s=u(n);l(s)}const A=new i;document.addEventListener("DOMContentLoaded",$);const E=async()=>{try{const t=await fetch(A.BASE_ENDPOINT_URL);if(t.ok===!1)throw new Error("Such a request has not been found");const s=(await t.json()).results;N(s)}catch(t){console.log(t.message)}};function $(t){t.preventDefault(),E()}function N(t){console.log(t);const n=t.map(e=>({section:e.section_name||e.section,title:e.title||e.headline.main,description:e.abstract,url:e.web_url||e.url,date:e.pub_date||e.created_date,img:`${e.multimedia[0].url}`,imgCaption:`${e.multimedia[0].caption}`}));console.log(n);const s=u(n);l(s)}
