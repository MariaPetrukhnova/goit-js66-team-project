(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();const $=document.querySelector(".page-header");function S(e){console.log(e);const r=e.map(n=>{const{section:o,title:c,description:a,url:s,date:i,img:g,imgCaption:l}=n;return`
            <div class="news-card">
                <img width="396" src="${g}" alt="${l}">
                <span>${o}</span>
                <h2>${c}</h2>
                <p>${a}</p>
                <span>${i}</span>    
                <a href="${s}">Read more</a>
            </div>
        `}).join("");return console.log(r),r}function k(e){$.insertAdjacentHTML("afterend",e)}const v="api-key=9GYTd3hNgT1cJMME7q1HMJAu02NGsmfm",w="https://api.nytimes.com",L=`${w}/svc/topstories/v2/arts.json?${v}`,j=`${w}/svc/search/v2/articlesearch.json?`;document.addEventListener("DOMContentLoaded",O);const q=async()=>{try{const e=await fetch(L);if(e.ok===!1)throw new Error("Such a request has not been found");const r=(await e.json()).results;M(r)}catch(e){console.log(e.message)}},E=document.querySelector(".page-header__search-input");E.addEventListener("change",N);function N(e){const t=e.target.value;console.log(t),T(t)}function O(e){e.preventDefault(),q()}const T=async e=>{try{const t=await fetch(`${j}q=${e}&${v}`);if(t.ok===!1)throw new Error("Such a request has not been found");const n=(await t.json()).response.docs;M(n)}catch(t){console.log(t.message)}};function M(e){console.log(e);const t=e.map(n=>({section:n.section_name||n.section,title:n.title||n.headline.main,description:n.abstract,url:n.web_url||n.url,date:n.pub_date||n.created_date,img:`${n.multimedia[0].url}`,imgCaption:`${n.multimedia[0].caption}`}));console.log(t);const r=S(t);k(r)}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var x="previous",P="current",C="next",h=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0";return e<10?t+e:e},d=function(e){return"".concat(e.getFullYear(),"-").concat(h(e.getMonth()+1),"-").concat(h(e.getDate()))},D=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},y=function(e){return new Promise(function(t){var r=[],n=I(e).map(function(a){return{date:a.date,iso:a.iso,type:x}}),o=Y(e).map(function(a){return{date:a.date,iso:a.iso,type:P}});r=r.concat(n).concat(o);var c=H(e,r.length).map(function(a){return{date:a.date,iso:a.iso,type:C}});t(r.concat(c))})},f=function(e){return function(t){return Array(e).fill().map(t)}},Y=function(e){var t=D(e);return f(t)(function(r,n){var o=n+1;return e.setDate(o),{date:o,iso:d(e)}})},I=function(e){var t,r,n=e.getMonth(),o=e.getFullYear(),c=Math.min(n-1,11),a=new Date(o,c),s=D(a),i=s-(t=e,r=new Date(t.getFullYear(),t.getMonth(),1).toDateString().substring(0,3),["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].indexOf(r))+1;return f(s-i+1)(function(g,l){var m=i+l;return a.setDate(m),{date:m,iso:d(a)}})},H=function(e,t){var r=42-t,n=e.getMonth()+1===12?0:e.getMonth()+1,o=n===0?e.getFullYear()+1:e.getFullYear(),c=new Date(o,n);return f(r)(function(a,s){var i=s+1;return c.setDate(i),{date:i,iso:d(c)}})},B=function(){function e(){(function(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e)}var t,r;return t=e,(r=[{key:"getDates",value:function(n){return new Promise(function(o){return o(y(n).then(function(c){return c.map(function(a){return a})}))})}},{key:"getMatrix",value:function(n){return new Promise(function(o){o(y(n).then(function(c){return c.reduce(function(a,s,i){return(i%7==0?a.push([s]):a[a.length-1].push(s))&&a},[])}))})}}])&&F(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),J=B;const _=new J;document.querySelector(".calendar__input");const R=document.querySelector(".calendar__body"),G=document.querySelector("#calend-btn"),u=["January","February","March","April","May","June","July","August","September","October","November","December"];G.addEventListener("click",U);const K=async()=>{const e=await _.getMatrix(new Date);console.log("ðŸš€ ~ file: calendar.js:17 ~ main ~ datesArr",e);const t=new Date,r=[u[t.getMonth()],t.getFullYear()],n=p(e);W(e),console.log("ðŸš€ ~ file: calendar.js:28 ~ main ~ croppedArr",n),A(n),b(r)};async function U(){const t=document.querySelector(".calend-month").textContent.split(" ");let r=u.indexOf(t[0]);console.log("date:",t),r===11?(r=0,t[1]=+t[1]+1,console.log("date:",t)):r+=1;const n=await _.getMatrix(new Date(`${t[1]}, ${u[r]}`)),o=p(n);console.log("ðŸš€ ~ file: calendar.js:28 ~ main ~ croppedArr",o),A(o),b([u[r],t[1]])}function b([e,t]){const r=document.querySelector(".calendar__body"),n=r.querySelector("p");n&&n.remove(),r.insertAdjacentHTML("afterbegin",`<p class="calend-month">${e} ${t}</p>`)}function A(e){const t=document.querySelector(".calendar__list"),r=new Date().getDate();t.innerHTML=`${e.map(n=>r===n.date?`<li class="calendar__date active">${n.date}</li>`:`<li class="calendar__date">${n.date}</li>`).join("")}`}function p(e){const t=e.flat();return console.log("cropped",t),[...t].slice(1,36)}function W(e){const t=p(e);console.log(t)}R.addEventListener("click",z);function z(e){console.log(e.target.className),e.target.className==="calendar__date"&&e.target.classList.toggle("checked")}K();
