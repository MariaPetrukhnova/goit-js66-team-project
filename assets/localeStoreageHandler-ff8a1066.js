(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();const k="/goit-js66-team-project/assets/icon-sprites-9215c45a.svg",s={bodyEl:document.querySelector("body"),changeBtnEl:document.getElementById("switch-checkbox"),themeElDark:document.getElementById("theme__dark"),themeElLigth:document.getElementById("theme__light")};S();s.changeBtnEl.addEventListener("click",L);function L(){s.bodyEl.classList.toggle("dark-mode"),s.themeElDark.classList.toggle("opacityForDark"),s.themeElLigth.classList.toggle("opacityForDark"),localStorage.setItem("theme",s.bodyEl.classList.contains("dark-mode")?"dark":"")}function S(){localStorage.getItem("theme")==="dark"&&(s.bodyEl.classList.add("dark-mode"),s.changeBtnEl.checked=!0)}const c={bodyEl:document.querySelector("body"),openMenuBtn:document.getElementById("js-open-menu"),closeMenuBtn:document.getElementById("js-close-menu"),themeContainer:document.getElementById("theme"),mobileMenu:document.getElementById("js-menu-container"),searchBtn:document.getElementById("form-btn")};c.openMenuBtn.addEventListener("click",y);c.closeMenuBtn.addEventListener("click",y);function y(t){const e=c.openMenuBtn.getAttribute("aria-expanded")==="true"||!1;c.openMenuBtn.setAttribute("aria-expanded",!e),c.mobileMenu.classList.toggle("open-menu"),c.themeContainer.classList.toggle("mobile"),c.bodyEl.classList.toggle("scroll-lock")}window.innerWidth<768&&c.searchBtn.setAttribute("type","button");window.matchMedia("(min-width: 768px)").addEventListener("change",t=>{t.matches&&(c.mobileMenu.classList.remove("open-menu"),c.openMenuBtn.setAttribute("aria-expanded",!1),c.bodyEl.classList.remove("scroll-lock"))});const f="read-articles",h="favorite-articles",p=document.querySelector("body");p.addEventListener("click",E);document.querySelector(".already-read");const a=JSON.parse(localStorage.getItem(f))||[],l=JSON.parse(localStorage.getItem(h))||[];function E(t){if(t.target.classList.contains("read-more")){const e=t.target.closest(".article"),r=e.dataset.id;e.querySelector(".already-read").classList.remove("is-hidden"),a.find(i=>i.id===r)||(a.push(u(t)),m(f,JSON.stringify(a)))}else if(t.target.classList.contains("favorites-button")||t.target.closest(".favorites-button")){const e=t.target.closest(".article"),r=e.dataset.id;e.querySelector(".article_flag--add").classList.toggle("is-hidden"),e.querySelector(".article_flag--remove").classList.toggle("is-hidden"),l.find(i=>i.id===r)||(l.push(u(t)),m(h,JSON.stringify(l)))}else return}var g;(g=document.querySelector(".articles_container"))==null||g.addEventListener("rendered",t=>{b(),q()});function b(){a!=null&&a.length&&a.forEach(t=>{var e,r;(r=(e=document.querySelector(".articles_container").querySelector(`[data-id="${t.id}"]`))==null?void 0:e.querySelector(".already-read"))==null||r.classList.remove("is-hidden")})}function q(){l!=null&&l.length&&l.forEach(t=>{var e,r,i,o;(r=(e=document.querySelector(".articles_container").querySelector(`[data-id="${t.id}"]`))==null?void 0:e.querySelector(".article_flag--add"))==null||r.classList.add("is-hidden"),(o=(i=document.querySelector(".articles_container").querySelector(`[data-id="${t.id}"]`))==null?void 0:i.querySelector(".article_flag--remove"))==null||o.classList.remove("is-hidden")})}function u(t){const e=new Object;e.readDate=new Date().toDateString();const r=t.target.closest(".article");return e.date=r.querySelector(".article_date").textContent,e.img=r.querySelector("img").getAttribute("src"),e.imgCaption=r.querySelector("img").getAttribute("alt"),e.section=r.querySelector(".article_category").textContent,e.title=r.querySelector(".article_title").textContent,e.description=r.querySelector(".article_text").textContent,e.id=r.dataset.id,e.url=t.target.getAttribute("href"),e}function m(t,e){localStorage.setItem(t,`${e}`)}export{b as a,q as b,E as o,k as s};
