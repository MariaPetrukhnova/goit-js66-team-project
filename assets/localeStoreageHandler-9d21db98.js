(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();const k="/goit-js66-team-project/assets/icon-sprites-9215c45a.svg",a={bodyEl:document.querySelector("body"),changeBtnEl:document.getElementById("switch-checkbox"),themeElDark:document.getElementById("theme__dark"),themeElLigth:document.getElementById("theme__light")};p();a.changeBtnEl.addEventListener("click",S);function S(){a.bodyEl.classList.toggle("dark-mode"),a.themeElDark.classList.toggle("opacityForDark"),a.themeElLigth.classList.toggle("opacityForDark"),localStorage.setItem("theme",a.bodyEl.classList.contains("dark-mode")?"dark":"")}function p(){localStorage.getItem("theme")==="dark"&&(a.bodyEl.classList.add("dark-mode"),a.changeBtnEl.checked=!0)}const i={bodyEl:document.querySelector("body"),openMenuBtn:document.getElementById("js-open-menu"),closeMenuBtn:document.getElementById("js-close-menu"),themeContainer:document.getElementById("theme"),mobileMenu:document.getElementById("js-menu-container"),searchBtn:document.getElementById("form-btn")};i.openMenuBtn.addEventListener("click",f);i.closeMenuBtn.addEventListener("click",f);function f(t){const e=i.openMenuBtn.getAttribute("aria-expanded")==="true"||!1;i.openMenuBtn.setAttribute("aria-expanded",!e),i.mobileMenu.classList.toggle("open-menu"),i.themeContainer.classList.toggle("mobile"),i.bodyEl.classList.toggle("scroll-lock")}window.innerWidth<768&&i.searchBtn.setAttribute("type","button");window.matchMedia("(min-width: 768px)").addEventListener("change",t=>{t.matches&&(i.mobileMenu.classList.remove("open-menu"),i.openMenuBtn.setAttribute("aria-expanded",!1),i.bodyEl.classList.remove("scroll-lock"))});const h="read-articles",m="favorite-articles",L=document.querySelector("body");L.addEventListener("click",E);document.querySelector(".already-read");const l=JSON.parse(localStorage.getItem(h))||[],s=JSON.parse(localStorage.getItem(m))||[];function E(t){if(t.target.classList.contains("read-more")){const e=t.target.closest(".article"),o=e.dataset.id;e.querySelector(".already-read").classList.remove("is-hidden"),l.find(c=>c.id===o)||(l.push(g(t)),u(h,JSON.stringify(l)))}else if(t.target.classList.contains("favorites-button")||t.target.closest(".favorites-button")){const e=t.target.closest(".article"),o=e.dataset.id;e.querySelector(".article_flag--add").classList.toggle("is-hidden"),e.querySelector(".article_flag--remove").classList.toggle("is-hidden");const c=s.findIndex(r=>r.id===o);c===-1?(s.push(g(t)),u(m,JSON.stringify(s))):(s.splice(c,1),u(m,JSON.stringify(s)))}else return}var y;(y=document.querySelector(".articles_container"))==null||y.addEventListener("rendered",t=>{b(),q()});function b(){l!=null&&l.length&&l.forEach(t=>{var e,o;(o=(e=document.querySelector(".articles_container").querySelector(`[data-id="${t.id}"]`))==null?void 0:e.querySelector(".already-read"))==null||o.classList.remove("is-hidden")})}function q(){s!=null&&s.length&&s.forEach(t=>{var e,o,c,r;(o=(e=document.querySelector(".articles_container").querySelector(`[data-id="${t.id}"]`))==null?void 0:e.querySelector(".article_flag--add"))==null||o.classList.add("is-hidden"),(r=(c=document.querySelector(".articles_container").querySelector(`[data-id="${t.id}"]`))==null?void 0:c.querySelector(".article_flag--remove"))==null||r.classList.remove("is-hidden")})}function g(t){const e=new Object;e.readDate=new Date().toDateString();const o=t.target.closest(".article");return e.date=o.querySelector(".article_date").textContent,e.img=o.querySelector("img").getAttribute("src"),e.imgCaption=o.querySelector("img").getAttribute("alt"),e.section=o.querySelector(".article_category").textContent,e.title=o.querySelector(".article_title").textContent,e.description=o.querySelector(".article_text").textContent,e.id=o.dataset.id,e.url=t.target.getAttribute("href"),e}function u(t,e){localStorage.setItem(t,`${e}`)}export{q as a,b,E as o,k as s};
