(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function o(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerpolicy&&(c.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?c.credentials="include":r.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function t(r){if(r.ep)return;r.ep=!0;const c=o(r);fetch(r.href,c)}})();const L="api-key=Mw0nOoO0CyWfJRrshsqkL1haZT52Fizf",O="https://api.nytimes.com",T=`${O}/svc/news/v3/content/all/`,k=document.querySelector(".category");k.addEventListener("click",N);function N(e){if(e.preventDefault(),e.target.className!=="category__btn")return;const n=e.target.textContent,o=encodeURIComponent(n.toLowerCase());P(o)}async function P(e){try{const t=(await(await fetch(`${T}${e}.json?${L}`)).json()).results;console.log(t)}catch(n){console.log(n.message)}}function j(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var q="previous",C="current",I="next",y=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0";return e<10?n+e:e},f=function(e){return"".concat(e.getFullYear(),"-").concat(y(e.getMonth()+1),"-").concat(y(e.getDate()))},v=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},_=function(e){return new Promise(function(n){var o=[],t=H(e).map(function(a){return{date:a.date,iso:a.iso,type:q}}),r=F(e).map(function(a){return{date:a.date,iso:a.iso,type:C}});o=o.concat(t).concat(r);var c=x(e,o.length).map(function(a){return{date:a.date,iso:a.iso,type:I}});n(o.concat(c))})},p=function(e){return function(n){return Array(e).fill().map(n)}},F=function(e){var n=v(e);return p(n)(function(o,t){var r=t+1;return e.setDate(r),{date:r,iso:f(e)}})},H=function(e){var n,o,t=e.getMonth(),r=e.getFullYear(),c=Math.min(t-1,11),a=new Date(r,c),s=v(a),i=s-(n=e,o=new Date(n.getFullYear(),n.getMonth(),1).toDateString().substring(0,3),["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].indexOf(o))+1;return p(s-i+1)(function(m,u){var h=i+u;return a.setDate(h),{date:h,iso:f(a)}})},x=function(e,n){var o=42-n,t=e.getMonth()+1===12?0:e.getMonth()+1,r=t===0?e.getFullYear()+1:e.getFullYear(),c=new Date(r,t);return p(o)(function(a,s){var i=s+1;return c.setDate(i),{date:i,iso:f(c)}})},Y=function(){function e(){(function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e)}var n,o;return n=e,(o=[{key:"getDates",value:function(t){return new Promise(function(r){return r(_(t).then(function(c){return c.map(function(a){return a})}))})}},{key:"getMatrix",value:function(t){return new Promise(function(r){r(_(t).then(function(c){return c.reduce(function(a,s,i){return(i%7==0?a.push([s]):a[a.length-1].push(s))&&a},[])}))})}}])&&j(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),e}(),B=Y;const A=new B;document.querySelector(".calendar__input");const R=document.querySelector(".calendar__body"),J=document.querySelector("#calend-btn"),l=["January","February","March","April","May","June","July","August","September","October","November","December"];J.addEventListener("click",U);const K=async()=>{const e=await A.getMatrix(new Date);console.log("ðŸš€ ~ file: calendar.js:17 ~ main ~ datesArr",e);const n=new Date,o=[l[n.getMonth()],n.getFullYear()],t=g(e);W(e),console.log("ðŸš€ ~ file: calendar.js:28 ~ main ~ croppedArr",t),b(t),M(o)};async function U(){const n=document.querySelector(".calend-month").textContent.split(" ");let o=l.indexOf(n[0]);console.log("date:",n),o===11?(o=0,n[1]=+n[1]+1,console.log("date:",n)):o+=1;const t=await A.getMatrix(new Date(`${n[1]}, ${l[o]}`)),r=g(t);console.log("ðŸš€ ~ file: calendar.js:28 ~ main ~ croppedArr",r),b(r),M([l[o],n[1]])}function M([e,n]){const o=document.querySelector(".calendar__body"),t=o.querySelector("p");t&&t.remove(),o.insertAdjacentHTML("afterbegin",`<p class="calend-month">${e} ${n}</p>`)}function b(e){const n=document.querySelector(".calendar__list"),o=new Date().getDate();n.innerHTML=`${e.map(t=>o===t.date?`<li class="calendar__date active">${t.date}</li>`:`<li class="calendar__date">${t.date}</li>`).join("")}`}function g(e){const n=e.flat();return console.log("cropped",n),[...n].slice(1,36)}function W(e){const n=g(e);console.log(n)}R.addEventListener("click",G);function G(e){console.log(e.target.className),e.target.className==="calendar__date"&&e.target.classList.toggle("checked")}K();class D{constructor(){this.API_KEY="api-key=9GYTd3hNgT1cJMME7q1HMJAu02NGsmfm",this.API_HOST="https://api.nytimes.com",this.WEB_HOST="https://www.nytimes.com",this.BASE_ENDPOINT_URL=`${this.API_HOST}/svc/topstories/v2/arts.json?${this.API_KEY}`,this.SEARCH_ENDPOINT_URL=`${this.API_HOST}/svc/search/v2/articlesearch.json?`}}const z=document.querySelector(".page-header");function S(e){console.log(e);const o=e.map(t=>{const{section:r,title:c,description:a,url:s,date:i,img:m,imgCaption:u}=t;return`
            <div class="news-card">
                <img width="396" src="${m}" alt="${u}">
                <span>${r}</span>
                <h2>${c}</h2>
                <p>${a}</p>
                <span>${i}</span>    
                <a href="${s}">Read more</a>
            </div>
        `}).join("");return console.log(o),o}function E(e){z.insertAdjacentHTML("afterend",e)}const d=new D,Z=document.querySelector(".page-header__search-input");Z.addEventListener("change",Q);function Q(e){const n=e.target.value;console.log(n),V(n)}const V=async e=>{try{const n=await fetch(`${d.SEARCH_ENDPOINT_URL}q=${e}&${d.API_KEY}`);if(n.ok===!1)throw new Error("Such a request has not been found");const t=(await n.json()).response.docs;console.log(t),X(t)}catch(n){console.log(n.message)}};function X(e){const n=e.map(t=>({section:t.section_name||t.section,title:t.title||t.headline.main,description:t.abstract,url:t.web_url||t.url,date:t.pub_date||t.created_date,img:`${d.WEB_HOST}/${t.multimedia[1].url}`}));console.log(n);const o=S(n);E(o)}const ee=new D;document.addEventListener("DOMContentLoaded",ne);const te=async()=>{try{const e=await fetch(ee.BASE_ENDPOINT_URL);if(e.ok===!1)throw new Error("Such a request has not been found");const o=(await e.json()).results;oe(o)}catch(e){console.log(e.message)}};function ne(e){e.preventDefault(),te()}function oe(e){console.log(e);const n=e.map(t=>({section:t.section_name||t.section,title:t.title||t.headline.main,description:t.abstract,url:t.web_url||t.url,date:t.pub_date||t.created_date,img:`${t.multimedia[0].url}`,imgCaption:`${t.multimedia[0].caption}`}));console.log(n);const o=S(n);E(o)}const $=document.querySelector(".category__btn"),w=document.querySelector(".js-list-container");$.addEventListener("click",re);function re(){$.classList.toggle("isActiveBtn"),w.classList.toggle("is-open"),w.classList.toggle("list-container--animation")}
